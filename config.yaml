# Book Better Activities Configuration
# Environment variables can be referenced using <ENV_VAR> syntax
#
# Discord Notifications:
# To get a webhook URL: Server Settings > Integrations > Webhooks > New Webhook
# Then set the DISCORD_WEBHOOK_URL environment variable or paste the URL directly

# Shared credentials (use YAML anchors for reuse)
credentials: &credentials
  username: <BETTER_USERNAME>
  password: <BETTER_PASSWORD>

discord_bot:
  token: <DISCORD_BOT_TOKEN>

badminton40minDouble: &badminton40minDouble
  activity: badminton-40min
  min_slot_time: "17:00:00"
  max_slot_time: "21:00:00"
  n_slots: 2

badminton60minDouble: &badminton60minDouble
  activity: badminton-60min
  min_slot_time: "17:00:00"
  max_slot_time: "21:00:00"
  n_slots: 2

bookings:
  # --------------------------
  # All 
  # --------------------------
  - name: "Weekday evening"
    days_ahead: 7
    schedule: "0 22 * * 1-5"  # 10 PM, Monday-Friday
    discord_webhook_url: <DISCORD_WEBHOOK_URL>  # Optional: Discord webhook for notifications
    attempts:
      # First choice: Queensbridge, 2 slots, 6-9 PM
      - <<: *credentials
        <<: *badminton40minDouble
        venue: queensbridge-sports-community-centre

      # Fallback 1: Britania 2x40min
      - <<: *credentials
        <<: *badminton40minDouble
        venue: britannia-leisure-centre

      # Fallback 2: Britania 2x60min
      - <<: *credentials
        <<: *badminton60minDouble
        venue: britannia-leisure-centre

      # Fallback 3: Clissold
      - <<: *credentials
        <<: *badminton40minDouble
        venue: clissold-leisure-centre
